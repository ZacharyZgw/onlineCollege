<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta http-equiv="Content-Type" content="text/html;">
    <meta charset="UTF-8" http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <!--<meta http-equiv="X-UA-Compatible" content="IE=edge">-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
    <title>慕课网</title>

    <#include "../common/newRes.html">

</head>
<body>
<!--导航部分-->
<#include "../common/newHeader.html">

<div class="bg-other user-head-info user_head">
    <div class="container">
        <#if teacher??>
        <div class="user-info clearfix">
            <div class="pull-left user_himg">
                <div class="user-pic-bg"><img src="${teacher.header}" alt=""></div>
            </div>
            <div class="pull-right user-info-right">
                <h3 class="user-name clearfix"><span class="pull-left">${teacher.username}</span></h3>
                <p class="about-info">
                    <#if teacher.gender?? && teacher.gender ==1>
                    <span>男</span>
                    <#else>
                    <span>女</span>
                    </#if>
                    <span>讲师</span>
                    <span>${teacher.city}</span>
                    <span>${teacher.title}</span>
                    <a class="more-user-info"><i class="glyphicon glyphicon-menu-down"></i>更多信息</a>
                </p>
            </div>
            <div class="user-sign">
                <#if teacher.sign?? && teacher.sign != "">
                <p class="user-desc">${teacher.sign}</p>
                <#else>
                <p class="user-desc">这位同学很懒，木有签名的说～</p>
            </#if>
        </div>
        </#if>
        <div class="study-info clearfix">
            <!--<div class="item">
                <div class="u-info-learn" title="学习时长218小时7分" style="cursor:pointer;">
                    <em>218h</em>
                    <span>学习时长 </span>
                </div>
            </div>
            <div class="item">
                <em>5703</em>
                <span>经验</span>
            </div>
            <div class="item">
                <em>2</em>
                <span>积分</span>
            </div>
            <div class="item">
                <a href=""><em>2</em></a>
                <span>关注</span>
            </div>
            <div class="item follows">
                <a href=""><em>0</em></a>
                <span>粉丝</span>
            </div>-->
            <div class="item js-fans-msg " id="follow">
                <a id="dofollow" class="status-btn add-follow" style="background-color: #C20A0A" href="javascript:void(0);" onclick="doFollow('${(teacher.id!)}')">+关注</a>
            </div>
        </div>
    </div>
</div>
</div>

<div class="cont_user">
    <div class="container wrap">
        <div class="slider">
            <ul>
                <li>
                    <a href="">
                        <i class="fa fa-home"></i><span>动态</span><b class="icon-drop_right"></b>
                    </a>
                </li>
                <li>
                    <a class="active" href="javascript:void(0);">
                        <i class="fa fa-list-alt"></i><span>课程</span><b class="icon-drop_right"></b>
                    </a>
                </li>
                <!--<li>
                    <a href="">
                        <i class="fa fa-random"></i><span>路径</span><b class="icon-drop_right"></b>
                    </a>
                </li>
                <li>
                    <a href="">
                        <i class="fa fa-question-circle"></i><span>猿问</span><b class="icon-drop_right"></b>
                    </a>
                </li>
                <li>
                    <a href="">
                        <i class="fa fa-file-text"></i><span>文章</span><b class="icon-drop_right"></b>
                    </a>
                </li>
                <li>
                    <a href="">
                        <i class="fa fa-file-word-o"></i><span>wiki</span><b class="icon-drop_right"></b>
                    </a>
                </li>-->

            </ul>
        </div>
        <div class="u-container">
            <div class="c-tab clearfix">
                <div class="tool-left pull-left">
                    <a href="${s.base}/user/course" class="sort-item active">最近学习</a>
                </div>
                <div class="tool-right pull-right">
                    <div class="tool-all">
                        <span id="js-columall" class="tool-item">
                            <span id="kecheng_tt">全部课程</span>
                            <i class="tool-item glyphicon glyphicon-triangle-bottom"></i>
                        </span>
                        <ul class="kecheng" style="margin-left: 28px">
                            <#if courseClassify??>
                            <#list courseClassify as item>
                            <li><a href="javascript:void(0);" onclick="_queryPageByClassify(1,'${item!}')">${item}</a></li>
                        </#list>
                    </#if>
                    </ul>

                </div>
            </div>
        </div>

        <div class="js-course-list my-space-course study-tl">
            <#if (page.items)??>
            <#list (page.items) as item>
            <div class="clearfix tl-item ">
                    <span class="time">
                        <b>${item.createTime?string('yyyy')}</b>
                        <em>${item.createTime?string('MM')}月${item.createTime?string('dd')}日</em>
                    </span>
                <div class="course-list course-list-m">
                    <ul class="clearfix">
                        <li class="clearfix course-one">
                            <div class="course-list-img pull-left">
                                <a href="${s.base}/course/learn/${item.courseId}" target="_self">
                                    <img width="200" height="113" alt="${item.name}"  src="${item.picture}">
                                </a>
                            </div>
                            <div class="course-list-cont">
                                <h3 class="study-hd">
                                    <a href="${s.base}/course/learn/${item.courseId}" target="_self">${item.name}</a>
                                </h3>
                                <div class="clearfix study-points" style="width: 85%">

                                    <span class="i-right pull-left span-common">${item.brief}</span>
                                </div>
                                <div class="catog-points">
                                    <!--<span class="i-left pull-left span-common"><a href="">笔记 <i>0</i></a></span>
                                    <span class="i-mid pull-left span-common"><a href="">代码 <i>0</i></a></span>
                                    <span class="i-right pull-left span-common"><a href="">问答 <i>0</i></a></span>-->
                                    <a href="${s.base}/course/learn/${item.courseId}" target="_self" class="btn-red continute-btn">去看看</a>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </#list>
    </#if>
    </div>

</div>

<#include "../common/newTailPage.html">
</div>
</div>
<#include "../common/footer.html">
</body>

<script>
    $(function () {
        if(SHIRO_LOGIN){
            //判断是否已经收藏
            var followId =${(teacher.id!)};
            if(followId){
                var url = '${s.base}/follow/isFollow';
                doFollow(followId,url);
            }

        }
    });
    function doFollow(followId,url) {
        if (url == undefined){
            url = '${s.base}/follow/doFollow';
        }
        $.ajax({
            url:url,
            type:'POST',
            dataType:'json',
            data:{"followId":followId},
            success:function (resp) {
                if (resp.errcode ==1){
                    //状态：关注成功
                    $('#dofollow').attr('style',"background-color:#4ba634;").html("已关注");
                }else {
                    $('#dofollow').attr('style','background-color:##e10601;').html("+关注");
                }
            }
        })
    }
    //根据分类分页获取
    var classify;
    <#if classify??>
    classify = "${classify}";
    </#if>
    function _queryPageByClassify(pageNum,classify){
        var params = '?pageNum='+pageNum;
        if (classify != undefined && classify != ''){//来自分页按钮
            params += '&classify='+classify;
        }
        window.location.href="${s.base}/user/teacher/${(teacher.id!)}"+params;
    };
    // 获取焦点
    $('.search_views').focus(function () {
        if ($('.search-warp').hasClass('search-active')){
            $('.search-warp').removeClass('search-active')
        }else{
            $('.search-warp').addClass('search-active')
        }
    });
    // 失去焦点
    $('.search_views').blur(function () {
        $('.search-warp').removeClass('search-active')
    });


    $('.more-user-info').click(function () {
        if ($('.user-sign').is(':hidden')){
            $('.user-sign').slideDown('slow');
            $('.user-info').addClass('active');
        }else{
            $('.user-sign').slideUp('slow');
            $('.user-info').removeClass('active');
        }
    });

    $('.tool-all').click(function () {
        if ($('.kecheng').is(':hidden')){
            $('.kecheng').slideDown('slow');
            $('.glyphicon-triangle-bottom').addClass('active');
        }else{
            $('.kecheng').slideUp('slow');
            $('.glyphicon-triangle-bottom').removeClass('active');

        }
    });

    $('.kecheng li a').click(function () {
        document.getElementById('kecheng_tt').innerHTML = this.innerHTML;
    });



    window.onscroll=function(){
        var t=document.documentElement.scrollTop||document.body.scrollTop;

        if(t<= 300){
            $('.elevator-top').removeClass('active');


        }else{
            $('.elevator-top').addClass('active');

        }
        if (t<=230){
            $('.slider').removeClass('active');
        }else{
            $('.slider').addClass('active');
        }
    }


</script>



</html>